### Git Flow

Git Flow は Git を利用した開発方針の一つ。`master` `develop` `hotfix` `feature` `release` のブランチを作って、各ブランチに以下のような役割をもたせて運用する。マージする前の PR はあまりなく、master にマージする前にバグがないかチェックする。
具体的な運用の仕方についてはここでは扱わない。

- `master` はリリースされているもの
- `develop` はリリース前のもの
- `feature` は個々が作業するブランチ
- `hotfix` は緊急修正を行う作業ブランチ
- `release` はリリース作業を行うブランチ。（develop -> master)

![](https://i.imgur.com/Vfn2zGH.png)


### GitHub Flow

`master` と作業ブランチのみが存在し、`master` にマージする前に PR を立ててレビューを行ってからマージする形式。`master` にマージされるたびに、即時リリースされる。

実際に運用する際には、どちらも運用しやすいように形を変えることが多い。例えば traQ の場合は GitHub Flow のような形だが、リリースはマージされる度には行わずに、リリースコミットを打ったタイミングでリリースをする。

### コミットの付け方・ブランチの付け方

作業する時のコミットやブランチの切り方、メッセージの書き方について。

まず前提として、リーダーの人がルールを決めていたらそのルールに従うべきである。

#### ブランチ

ブランチは、1 issue に対して 1つのブランチを意識する事。issue が終わる度に PR を出したい。ブランチの名前は、issue の名前を英語にすれば良い。全員東工大生なのできれいな英語を無理に意識する必要はない。

#### コミット

コミットはできるだけこまめにしよう。push する前に先述の rebase 等を使用すれば良いだけ。変更したい所がうまく変更できて、ビルドも成功すればすぐにコミットする事。
コミットメッセージの付け方については、コミットの頻度が非常に細かくなればそこまで困ることはなくなると思う。(Todo)〇〇した、という形で書けば割とよくなる。日本語でも英語でも良いと思うが、ルールが存在すればそれに従うこと。

また、コミットにプレフィックスをつける事を個人的にはおすすめする。

[Angular](https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#type) を見ながら、コミットにプレフィックスをつけるとコミット一覧を見た時にどのような変更なのか非常に分かりやすくなる。

具体的にはこんな感じ。([リポジトリのURL](https://github.com/afes-website/cappuccino-app/commits/develop))
![](https://md.trap.jp/uploads/upload_343a20d33c2c280e0c1b6f2e4efdbd6d.png)

もうひとつの選択肢として、コミットメッセージの先頭に絵文字をつける方法もある。

[gitmoji](https://gitmoji.dev/) を見ながら、コミットに絵文字をつけると見た目は良くなる（ただ、これを知らない人が見ると全くわからない気がする…）。

こっちはこんな感じ。カラフルでちょっと見栄えは良い。（[リポジトリ](https://github.com/traPtitech/traPortfolio/commits/main)）

![](https://md.trap.jp/uploads/upload_c3ea1d69be3dcfe38450395387d18d7a.png)

### やってはいけないこと

- 巨大なバイナリファイルのコミット
  - 特に zip ファイル。そのままコミットすると、他のgit操作に支障が出る。Git LFS を用いるなりそもそも巨大なzipファイルを扱わないなり回避するべき。
  - GitHub は特に制限があって、超えると利用停止とかが発生するので要注意（これで後輩が利用を停止させられていた。）
- コードのコメントアウト
  - 特段の理由がなければ避けるべき。過去のコミットを漁れば見れる。
- force-push
  - バージョン管理のデータそのものを一部吹き飛ばす訳なので、無闇にやって良いものではない。
  - 特に、masterブランチなどではしない方が良い（他の人の作業進捗にまで影響が出る為）。
