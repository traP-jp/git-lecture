# ブランチを生やす

作成したばかりのリポジトリでは main という名前のブランチがひとつ用意されています。前編で行った操作はすべて main の中で完結していました。個人開発では main に直接コミットして全く問題ない（実際によくやる）のですが、統制の効いた共同開発になると保守性の観点からそれが禁じられ、必ずブランチを生やしてから作業をすることを求められる場合もあります。

## ブランチの作成

デスクトップの mydrive ディレクトリを VSCode で開き、ウィンドウ左下の「main」と書かれた部分をクリックすると、ウィンドウ上部中央に入力欄とボタンが現れます。

![](https://md.trap.jp/uploads/upload_dd6fb121c7dbd3eedff1223c239bb5a0.png)

「新しいブランチの作成…」を選択し、新たに作るブランチの名前を入力します。とりあえず「sub」という名前にします。

![](https://md.trap.jp/uploads/upload_01a845b2d4158c95b6f56ec64e96760b.png)

このあと「コミット」ボタンが「Branch の発行」ボタンに切り替わるのでそれを押すと作成したブランチをリモートと同期することができます。Gitea のリポジトリのページに向かうと「1 ブランチ」だったところが「2 ブランチ」に変わっていて、それをクリックすると新たに「sub」というブランチが出来ていることが確認できます。

![](https://md.trap.jp/uploads/upload_a34cdf50397e6456e585ef9c11b3ce2d.png)

## ブランチ間の移動

VSCode に戻ると、先ほどクリックした部分の「main」が「sub」に変わっています。これは現在開かれている作業ブランチが sub であることを表します。sub ブランチから main ブランチへ移動するにはこの「sub」を押し、表示されるブランチ一覧から main を選択します。同じ方法で再度 sub に戻ってきてください。

![](https://md.trap.jp/uploads/upload_9c67827c1d2c6fd0aa00c1828c11a3a9.png)

:::warning チェックアウト
入力欄のプレースホルダーに薄く「チェックアウトするブランチまたはタグを選択します」と出ているのが見えます。sub ブランチに移動することを「**sub をチェックアウトする**」と表現します。ホテルのチェックアウトに準えると「今いるブランチから出ていく」的な意味に捉えられるので真逆に思われて混乱の種になりますが、このチェックアウトは図書などの「貸出」の方が意味の捉え方としては適切です。「sub を借りてきて開く」という感じです。
:::

一度ブランチを生やしてしまえば、その中でどんなコミットをしようと main には影響を与えず、誰かに迷惑をかけることもありません。もしブランチの中で作業をしていてシステムが原因不明の不具合を生じたら、変更を破棄して最後のコミット直後の状態に戻ることもできます。